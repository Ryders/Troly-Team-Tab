<!-- Imports -->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-localstorage/iron-localstorage.html">
<link rel="import" href="../bower_components/iron-signals/iron-signals.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../bower_components/neon-animation/web-animations.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="x-cards/x-bookmarks/x-bookmarks.html">
<link rel="import" href="x-cards/x-bookmarks/x-bookmarks-folder.html">
<link rel="import" href="x-cards/x-bookmarks/x-bookmarks-link-styles.html">
<link rel="import" href="x-cards/x-dashboard/x-dashboard.html">
<link rel="import" href="x-cards/x-cards.html">
<link rel="import" href="x-drawer/x-drawer.html">
<link rel="import" href="x-links/x-links.html">
<link rel="import" href="x-logo/x-logo.html">
<link rel="import" href="x-shortcuts/x-shortcuts.html">
<link rel="import" href="x-toolbar/x-toolbar.html">

<!-- Element -->
<dom-module id="x-app">
  <template>

    <!-- CSS -->
    <style>

      /* App theme */
      :root {
        --primary-color: #009688;
        --main-background-color: #EEE;
        --light-gray-text-color: #AAA;
        --gray-text-color: #777;
        --darker-gray-text-color: #666;
        --dark-gray-text-color: #2f363a;
        --border-color: #CCC;
        --troly-brand-color: #E91E63;
        --paper-tab-ink: var(--border-color);
        --paper-tabs-selection-bar-color: var(--troly-brand-color);

      }

      /* Element */
      :host { display: block; }

      /* App panel */
      app-drawer-layout {}

      /* App panel - Drawer */
      app-drawer-layout app-drawer { --app-drawer-width: 264px; }
      app-drawer-layout app-drawer.fixed { border: 1px solid #CCC; }

      /*app-drawer-layout app-drawer { height: 850px; background: #EEE; overflow: auto; }*/
      /*app-drawer-layout app-drawer::-webkit-scrollbar {  transition: .2s ease; width: 8px; }*/
      /*app-drawer-layout app-drawer::-webkit-scrollbar-track {}*/
      /*app-drawer-layout app-drawer::-webkit-scrollbar-thumb { background: #CCC; transition: .2s ease; }*/

      /* App panel - Drawer - Drawer content */
      app-drawer-layout app-drawer x-drawer {}

      /* App panel - Content wrapper */
      app-drawer-layout app-header-layout {}

      /* App panel - Content wrapper - Header */
      app-drawer-layout app-header-layout app-header {}

      /* App panel - Content wrapper - Header - Toolbar */
      app-drawer-layout app-header-layout app-header app-toolbar { color: var(--gray-text-color); }

      /* App panel - Content wrapper - Header - Toolbar - Drawer toggle */
      app-drawer-layout app-header-layout app-header app-toolbar paper-icon-button {}

      /* App panel - Content wrapper - Header - Toolbar - App title */
      app-drawer-layout app-header-layout app-header app-toolbar div[main-title] { padding: 0 0 0 12px; }

      /* App panel - Content wrapper - Header - Toolbar - Toolbar controls */
      app-drawer-layout app-header-layout app-header app-toolbar x-toolbar {}

      /* App panel - Content wrapper - Content */
      app-drawer-layout app-header-layout main {}

      /* App panel - Content wrapper - Content - Shortcuts */
      app-drawer-layout app-header-layout main x-shortcuts { margin: 32px 0 0 0; }

      /* App panel - Content wrapper - Content - Cards */
      app-drawer-layout app-header-layout main x-cards {}

      /* Changelog dialog */
      paper-dialog {}
      paper-dialog#customizeDialog { width: 512px; }
      paper-dialog h2 {}
      paper-dialog paper-dialog-scrollable {}
      paper-dialog paper-dialog-scrollable a { color: var(--primary-color)}
      paper-dialog paper-dialog-scrollable h3 { display: block; margin-bottom: 2px; }
      paper-dialog paper-dialog-scrollable div.description { color: var(--dark-gray-text-color); font-style: italic; }
      paper-dialog paper-dialog-scrollable div.columns { @apply(--layout-horizontal); @apply(--layout-wrap); }
      paper-dialog paper-dialog-scrollable div.columns paper-checkbox { box-sizing: border-box; width: 30%; }
      paper-dialog paper-dialog-scrollable p { color: #999; font-size: .8em; line-height: 1em; margin: 0 0 0 30px; padding: 0; }
      paper-dialog paper-dialog-scrollable paper-checkbox { display: block; margin: 3px; }
      paper-dialog div.buttons {}
      paper-dialog div.buttons paper-button {}

    </style>

    <!-- App layout -->

    <!-- Wrapper -->
    <app-drawer-layout force-narrow="[[!optsFixedDrawer]]">

      <!-- Drawer panel -->
      <!--app-drawer slot="drawer" class$="[[_getDrawerClass(optsFixedDrawer)]]" swipe-open="[[!optsFixedDrawer]]" persistent="[[optsFixedDrawer]]">
        <x-drawer links="{{drawerShortcuts}}"></x-drawer>
      </app-drawer-->

      <!-- Main panel -->
      <app-header-layout id="headerPanel">

        <!-- Header -->
        <app-header slot="header" effects="waterfall" fixed>
          <app-toolbar id="toolbar">

            <!-- Drawer toggle button -->
            <div hidden$="[[optsFixedDrawer]]">
              <paper-icon-button icon="icons:menu" drawer-toggle></paper-icon-button>
            </div>

            <!-- App title (empty) -->
            <div main-title></div>

            <!-- Chrome:// controls -->
            <x-toolbar links="{{browserShortcuts}}" on-open-customize-dialog="_openCustomizeDialog">
            </x-toolbar>

          </app-toolbar>
        </app-header>

        <!-- Content -->
        <main id="content">

          <!-- Search bar -->
          <!--x-logo></x-logo-->

          <!-- Shortcuts -->
          <x-shortcuts
            getting-started-shortcuts="{{gettingStartedShortcuts}}"
            on-open-customize-dialog="_openCustomizeDialog" 
            on-reset-all-extension-data="_openCustomizeDialog"
            >
          </x-shortcuts>

          <!-- Cards -->
          <!--x-cards
            show-bookmarks-card="[[showBookmarksCard]]"
            show-dashboard-card="[[showDashboardCard]]"
            use-flat-style="false">
          </x-cards-->

        </main>

      </app-header-layout>

    </app-drawer-layout>

    <!-- ----------------------------------------------------------------------------------------------------------- -->
    <!-- Customization dialog -->

    <!-- Dialog -->
    <paper-dialog id="customizeDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation" modal>

      <!-- Title -->
      <h2>Customisation</h2>

      <!-- Content -->
      <paper-dialog-scrollable>

        <!-- Description -->
        <div class="description">Customize settings of the extension to match your role, needs and preferences.</div>

        <!-- Search box -->
        <h3>Selected Tab</h3>
        <paper-checkbox checked="{{optsDefaultTabAuto}}">Show the last opened tab at startup</paper-checkbox>
        <paper-dropdown-menu label="Tab to be displayed at launch.">
          <paper-listbox name="{{optsDefaultTab}}" slot="dropdown-content" enabled="{{!optsDefaultTabAuto}}" required="{{!optsDefaultTabAuto}}">
            <paper-item>Getting Started</paper-item>
            <paper-item>Internal Resources</paper-item>
            <paper-item>Everyday Systems</paper-item>
            <paper-item>Check your Chrome Setup</paper-item>
            <paper-item>Troly CRM</paper-item>
          </paper-listbox>
        </paper-dropdown-menu>

        <!-- Search box -->
        <h3>Roles-based options</h3>
        <p>Select the roles for which you want to access tools and links.</p>
        <div class="columns">
          <paper-checkbox checked="{{roleMarketing}}">Marketing</paper-checkbox>
          <paper-checkbox checked="{{roleBusDev}}">Business Development</paper-checkbox>
          <paper-checkbox checked="{{roleCustSupp}}">Frontline Support</paper-checkbox>
          <paper-checkbox checked="{{roleCustInvestig}}">Technical Support</paper-checkbox>
          <paper-checkbox checked="{{roleCustOnboard}}">Customer On-boarding</paper-checkbox>
          <paper-checkbox checked="{{roleCustWebsites}}">Websites Support</paper-checkbox>
          <paper-checkbox checked="{{roleProdDev}}">Product Development</paper-checkbox>
          <paper-checkbox checked="{{roleManagement}}">Management</paper-checkbox>
        </div>
        
        <!-- Search box -->
        <h3>Left drawer access</h3>
        <paper-checkbox checked="{{optsFixedDrawer}}">Menu drawer should be always visible.</paper-checkbox>

        <!-- Search box -->
        <h3>Select Cards to use</h3>
        <paper-checkbox checked="{{optsShowAsanaCard}}">Asana card</paper-checkbox>
        <paper-checkbox checked="{{optsShowDashboardCard}}">Dashboard card</paper-checkbox>
        <paper-checkbox checked="{{optsShowBookmarksCard}}">Bookmarks card</paper-checkbox>

      </paper-dialog-scrollable>

      <!-- Buttons -->
      <div class="buttons">
        <paper-button dialog-dismiss>Close</paper-button>
      </div>

    </paper-dialog>

    <!-- ----------------------------------------------------------------------------------------------------------- -->
    <!-- What's new dialog -->

    <!-- Dialog -->
    <paper-dialog id="changelog" modal>
      <h2>What's New</h2>
      <paper-dialog-scrollable>
        Welcome to the Troly Starts Here! new tab extension. This is our first release and here you will find:<br>
        <br>
        * [New] Ability to access Internal Team Resources as well as Online Systems we use.<br>
        <br>
        Full changelog: <a href="https://chrome.google.com/webstore/detail/g-suite-new-tab/ehpgcagmhpndkmglombjndkdmggkgnge">Webstore</a>
      </paper-dialog-scrollable>
      <div class="buttons">
       <paper-button dialog-dismiss>Close</paper-button>
      </div>
    </paper-dialog>

    <!-- ----------------------------------------------------------------------------------------------------------- -->
    <!-- Other elements -->

    <!-- Toast -->
    <paper-toast id="toast"></paper-toast>

    <!-- Signals event bus -->
    <iron-signals
      on-iron-signal-toast="_openToast">
    </iron-signals>

    <!-- Browser local storage -->
    <iron-localstorage name="__trolystartshere_tabDefaultSelection"     value="{{tabDefaultSelection}}"></iron-localstorage>

    <iron-localstorage name="__trolystartshere_roleBusDevelopment"      value="{{roleBusDev}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_roleMarketing"           value="{{roleMarketing}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_roleProdDevelopment"     value="{{roleProdDev}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_roleCustSupport"         value="{{roleCustSupp}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_roleCustInvestigations"  value="{{roleCustInvestig}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_roleCustOnboarding"      value="{{roleCustOnboard}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_roleCustWebsites"        value="{{roleCustWebsites}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_roleManagement"          value="{{roleManagement}}"></iron-localstorage>

    <iron-localstorage name="__trolystartshere_browserShortcuts"        value="{{browserShortcuts}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_drawerShortcuts"         value="{{drawerShortcuts}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_gettingStartedShortcuts" value="{{gettingStartedShortcuts}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_internalShortcuts"       value="{{internalShortcuts}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_extSystemsShortcuts"     value="{{extSystemsShortcuts}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_setupShortcuts"          value="{{setupShortcuts}}"></iron-localstorage>

    <iron-localstorage name="__trolystartshere_optsFixedDrawer"         value="{{optsFixedDrawer}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_optsDefaultTabAuto"      value="{{optsDefaultTabAuto}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_optsDefaultTab"          value="{{optsDefaultTab}}"></iron-localstorage>

    <iron-localstorage name="__trolystartshere_optsShowAsanaCard"       value="{{optsShowAsanaCard}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_optsShowDashboardCard"   value="{{optsShowDashboardCard}}"></iron-localstorage>
    <iron-localstorage name="__trolystartshere_optsShowBookmarksCard"   value="{{optsShowBookmarksCard}}"></iron-localstorage>


  </template>
  <script>
    (function () {
      'use strict';
      Polymer({

        /**
         * Element configuration (is, behaviors, properties, observers).
         */
        is: 'x-app',
        properties: {

          /**
           * Current application version.
           */
          APP_VERSION: {
            type: Number,
            value: 1
          },

          /**
           * List of G Suite app shortcuts.
           */
          browserShortcuts: {
            type: Array
          },

    
          /**
           * WDS apps visibility toggle.
           */
          drawerShortcuts: {
            type: Boolean
          },

          /**
           * List of chrome://.. tabs used in drawer and toolbar.
           */
          gettingStartedShortcuts: {
            type: Array
          },

          extSystemsShortcuts: {
            type: Array
          },

          setupShortcuts: {
            type: Array
          },

          /**
           * Enable fixed (true) or swipe-able drawer (false).
           */
          useFixedDrawer: {
            type: Boolean,
            value: false
          },

        },


        observers: [
          '_setDefaultValues(' +
            'tabDefaultSelection,' +

            'roleBusDev,' +
            'roleMarketing,' +
            'roleProdDev,' +
            'roleCustSupp,' +
            'roleCustInvestig,' +
            'roleCustOnboard,' +
            'roleManagement,' +

            'browserShortcuts,' +
            'drawerShortcuts,' +
            'gettingStartedShortcuts,' +
            'internalShortcuts,' +
            'extSystemsShortcuts,' +
            'setupShortcuts,' +

            'optsFixedDrawer,' +
            'optsDefaultTabAuto,' +
            'optsDefaultTab,' +

            'optsShowAsanaCard,' +
            'optsShowDashboardCard,' +
            'optsShowBookmarksCard' +
          ')'
        ],

        /**
         * Check app version and clear storage if new version is detected.
         *
         * Attach scroll observer on document when element is ready, monitor scrollTop value and change toolbar
         * background (default color when scrollTop is 0, lighter (closed to white) when scrollTop is more than 0).
         */
        ready: function () {

          // Reset extension if new version is detected
          var version = '__trolystartshere_version_check_' + this.APP_VERSION;
          if (!window.localStorage.getItem(version)) {

            // Save new version item
            window.localStorage.setItem(version, true);

            // Open changelog
            this.$.changelog.open();

          }

          // Register scroll listener
          var that = this;
          document.addEventListener('scroll', function () {
            if (window.pageYOffset > 0) {
              if (that.$.toolbar.style.backgroundColor !== '#E5E5E5') {
                that.$.toolbar.style.backgroundColor = '#E5E5E5';
              }
            } else {
              if (that.$.toolbar.style.backgroundColor !== '') {
                that.$.toolbar.style.backgroundColor = '';
              }
            }
          });

        },

        /**
         * Return drawer .fixed class (if useFixedDrawer is enabled).
         *
         * @private
         */
        _getDrawerClass: function (useFixedDrawer) {
          return useFixedDrawer ? 'fixed' : '';
        },

        /**
         * Opens #customizeDialog.
         *
         * @private
         */
        _openCustomizeDialog: function () {
          this.$.customizeDialog.open();
        },

        /**
         * Handler for iron-signal-toast event, opens paper-toast with a message from event.
         *
         * @param event
         * @private
         */
        _openToast: function (event) {
          if (this.$.toast.opened) {
            this.$.toast.hide();
          }
          this.$.toast.text = event.detail;
          this.$.toast.show();
        },

        /**
         * Observer for default configuration values.
         *
         * @param tabDefaultSelection

         * @param roleBusDev
         * @param roleMarketing
         * @param roleProdDev
         * @param roleCustSupp
         * @param roleCustInvestig
         * @param roleCustOnboard
         * @param roleCustWebsites
         * @param roleManagement

         * @param browserShortcuts
         * @param drawerShortcuts
         * @param gettingStartedShortcuts
         * @param internalShortcuts
         * @param extSystemsShortcuts
         * @param setupShortcuts

         * @param optsFixedDrawer
         * @param optsDefaultTabAuto
         * @param optsDefaultTab

         * @param optsShowAsanaCard
         * @param optsShowDashboardCard
         * @param optsShowBookmarksCard
         * @private
         */
        _setDefaultValues: function (
            
            tabDefaultSelection,

            roleBusDev,
            roleMarketing,
            roleProdDev,
            roleCustSupp,
            roleCustInvestig,
            roleCustOnboard,
            roleCustWebsites,
            roleManagement,

            browserShortcuts,
            drawerShortcuts,
            gettingStartedShortcuts,
            internalShortcuts,
            extSystemsShortcuts,
            setupShortcuts,

            optsFixedDrawer,
            optsDefaultTabAuto,
            optsDefaultTab,

            optsShowAsanaCard,
            optsShowDashboardCard,
            optsShowBookmarksCard

        ) {
          this.debounce('_setDefaultValues', function () {

            if (tabDefaultSelection === null) {

            }

            if (roleBusDev === null) {
              this.set('roleBusDev', true);
            }

            if (roleMarketing === null) {
              this.set('roleMarketing', true);
            }

            if (roleProdDev === null) {
              this.set('roleProdDev', true);
            }

            if (roleCustSupp === null) {
              this.set('roleCustSupp', true); 
            }

            if (roleCustInvestig === null) {
              this.set('roleCustInvestig', true); 
            }

            if (roleCustOnboard === null) {
              this.set('roleCustOnboard', true); 
            }

            if (roleCustWebsites === null) {
              this.set('roleCustWebsites', true); 
            }

            if (roleManagement === null) {
              this.set('roleManagement', true); 
            }

            if (browserShortcuts === null) {

              // Create initial Getting Started apps (if empty)
              this.set('browserShortcuts', [
                { page: 'apps', icon: 'icons:apps', title: 'Apps', visible: true },
                { page: 'bookmarks', icon: 'icons:star', title: 'Bookmarks', visible: true },
                { page: 'downloads', icon: 'icons:file-download', title: 'Downloads', visible: true },
                { page: 'history', icon: 'icons:history', title: 'History', visible: true },
                { page: 'extensions', icon: 'icons:extension', title: 'Extensions', visible: true },
                { page: 'flags', icon: 'icons:flag', title: 'Flags', visible: true }
              ]);
            }

            if (drawerShortcuts) {

              this.set('drawerShortcuts', [
                {}
              ]);
            }

            if (gettingStartedShortcuts) {

              this.set('gettingStartedShortcuts', [
                
              ]);
            }

            if (internalShortcuts === null) {

              // Create initial Getting Started apps (if empty)
              this.set('internalShortcuts', [
                { type: 'goog', icon: 'admin',      title: 'Admin', page: 'https://admin.google.com/AdminHome',               roles: ['management'] },
                { type: 'goog', icon: 'meet',       title: 'Meet', page: 'https://meet.google.com',                           roles: ['all'] },
                { type: 'goog', icon: 'drive',      title: 'Drive', page: 'https://drive.google.com/drive/my-drive',          roles: ['all'] },
                { type: 'goog', icon: 'analytics',  title: 'Analytics', page: 'https://analytics.google.com/analytics/web',   roles: ['marketing','management'] },
                { type: 'goog', icon: 'calendar',   title: 'Calendar', page: 'https://calendar.google.com/calendar/render',   roles: ['all'] },
                { type: 'goog', icon: 'my-account', title: 'My Account', page: 'https://myaccount.google.com/',               roles: ['all'] },
                { type: 'goog', icon: 'groups',     title: 'Groups', page: 'https://groups.google.com/',                      roles: ['management'] },
                { type: 'goog', icon: 'contacts',   title: 'Contacts', page: 'https://contacts.google.com',                   roles: ['all'] },
                { type: 'goog', icon: 'gmail',      title: 'Gmail', page: 'https://mail.google.com/mail/u/0/#inbox',          roles: ['all'] },
                { type: 'goog', icon: 'play-console', title: 'Play Console', page: 'https://play.google.com/apps/publish',    roles: ['proddev'] }
              ]);
            }

            if (extSystemsShortcuts) {

              this.set('extSystemsShortcuts', [
                { icon:'ext-ac',        title: 'Active Campaign', page: 'https://troly.activehosted.com', roles:['ruleBusDev','roleMarketing']},
                { icon:'ext-aha',       title: 'Aha',         page: '',        roles:['roleManagement','roleProdDev']},
                { icon:'ext-toky',      title: 'Toky',        page: '',        roles:['ruleBusDev','roleCustSupp']},
                { icon:'ext-asana',     title: 'Asana',       page: '',        roles:['all']},
                { icon:'ext-everhour',  title: 'Everhour',    page: '',        roles:['all']},
                { icon:'ext-github',    title: 'GitHub',      page: '',        roles:['roleProdDev']},
                { icon:'ext-slack',     title: 'Slack',       page: '',        roles:['all']},
                { icon:'ext-kayako',    title: 'Kayako',      page: '',        roles:['roleCustSupp','roleCustInvestig']},
                { icon:'ext-zapier',    title: 'Zapier',      page: '',        roles:['roleMarketing','roleCustInvestig','roleManagement']},
                { icon:'ext-ycbm',      title: 'YouCanBookMe', page: '',       roles:['roleManagement']},
                { icon:'ext-1password', title: '1Password',   page: '',        roles:['all']},
                { icon:'ext-web',       title: 'Troly Website', page: '',      roles:['roleMarketing']},
                { icon:'ext-kb',        title: 'Troly KB',    page: '',        roles:['roleCustSupp']},
                { icon:'ext-cflare',    title: 'Cloudflare',  page: '',        roles:['roleProdDev']},
                { icon:'ext-cdinary',   title: 'Cloudinary',  page: '',        roles:['roleProdDev']},
                { icon:'ext-wistia',    title: 'Wistia',      page: '',        roles:['roleMarketing']}

              ]);
            }

            if (setupShortcuts) {

              this.set('setupShortcuts', [
                { type:'req', icon:'ext-everhour',        title: 'Everhour',            page: '', roles:['all']},
                { type:'req', icon:'ext-grammarly',       title: 'Grammarly',           page: '', roles:['all']},
                { type:'req', icon:'ext-1pass',           title: '1Pass',               page: '', roles:['all']},
                { type:'req', icon:'ext-asana',           title: 'Asana',               page: '', roles:['all']},
                { type:'opt', icon:'ext-susp',            title: 'Tab Suspender',       page: '', roles:['all']},
                { type:'opt', icon:'ext-offline',         title: 'Offline Docs',        page: '', roles:['all']},
                { type:'opt', icon:'ext-rightinbox',      title: 'Right Inbox',         page: '', roles:['roleManagement','roleBusDev']},
                { type:'opt', icon:'ext-ua-switch',       title: 'User-Agent Switcher', page: '', roles:['roleProdDev']},
                { type:'opt', icon:'ext-window-resizer',  title: 'Window Resizer',      page: '', roles:['roleProdDev','roleMarketing']},
                { type:'opt', icon:'ext-fold-viewer',     title: 'Fold Viewer',         page: '', roles:['roleProdDev','roleMarketing']},
                { type:'req', icon:'ext-troly',           title: 'Troly Starts Here',   page: '', roles:['all']},
                { type:'req', icon:'ext-apps-docs',       title: 'Google Docs',         page: '', roles:['all']},
                { type:'req', icon:'ext-apps-sheets',     title: 'Google Sheets',       page: '', roles:['all']},
                { type:'req', icon:'ext-apps-slides',     title: 'Google Slides',       page: '', roles:['all']},
                { type:'req', icon:'ext-apps-drive',      title: 'Google Drive',        page: '', roles:['all']},
                { type:'req', icon:'ext-apps-offline',    title: 'Gmail Offline',       page: '', roles:['roleManagement','roleBusDev']}
              ]);
            }


            if (!gettingStartedShortcuts) {

              // Create initial Getting Started apps (if empty)
              this.set('gettingStartedShortcuts', [
                { type: 'internal', icon:'slides',        title: 'Welcome to Troly!',             page: '', roles:['all']},
                { type: 'internal', icon:'drawing',       title: 'Troly Org Chart',               page: '', roles:['all']},
                { type: 'internal', icon:'document',      title: 'Defining the Troly Brand',      page: '', roles:['all']},
                { type: 'internal', icon:'drawing',       title: 'Troly Team Bible',              page: '', roles:['all']},
                { type: 'internal', icon:'drawing',       title: 'Troly in Charts',               page: '', roles:['all']},
                { type: 'internal', icon:'document',      title: 'Active Campaign Configuration', page: '', roles:['all']},
                { type: 'internal', icon:'document',      title: 'Aha Configuration',             page: '', roles:['all']},
                { type: 'internal', icon:'document',      title: 'Zapier Configuration',          page: '', roles:['all']},
                { type: 'internal', icon:'document',      title: 'Defining the Troly Brand',      page: '', roles:['all']},
                { type: 'internal', icon:'link',          title: 'Timezone Helper',               page: '', roles:['all']},
                { type: 'internal', icon:'link',          title: 'Email Signature Generator',     page: '', roles:['all']},
                { type: 'customer', icon:'form',          title: 'Notes for Customer Meeting',    page: '', roles:['all']},
                { type: 'customer', icon:'form',          title: 'Damage Parcel Claim Form',      page: '', roles:['all']},
                { type: 'customer', icon:'sheets',        title: 'Hosting Accounts Details',      page: '', roles:['all']}
              ]);
            }


            // Drawer is swipe-able by default
            if (optsFixedDrawer === null) {
              this.set('optsFixedDrawer', false);
            }

            //
            if (optsDefaultTabAuto === null) {
              this.set('optsDefaultTabAuto', true);
            }

            // 
            if (optsDefaultTab === null) {
              this.set('optsDefaultTab', '');
            }

            // Asana Tasks Card is shown by default
            if (optsShowAsanaCard === null) {
              this.set('optsShowAsanaCard', true);
            }

            // Dashboard Card is shown by default
            if (optsShowDashboardCard === null) {
              this.set('optsShowDashboardCard', true);
            }

            // Browser Bookmarks Card show by default
            if (optsShowBookmarksCard === null) {
              this.set('optsShowBookmarksCard', false);
            }


          });
        }

      });
    })();
  </script>
</dom-module>
